const serverUrl="https://9rotklamvhur.usemoralis.com:2053/server",appId="32qjS96gLON4ZUxrPSXbqM73w1h3HGDpFlbQ9tMM",CONTRACT_ADDRESS="0x3ac4b0c407b3327FB714c53568531Ac39294C5d0";var myMysticId=void 0,gasPriceNow=0;startMain();var web3=void 0,img1="",img2="",img3="",img4="",img5="",canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),life=0,hungry=0,cleanliness=0,moral=0,rested=0,eggs={},foods={},items={},myMystic={},invitsReceive=void 0,invitsSended=void 0,foodByZone=void 0,myMysticData=void 0,priceEth=0,paramsContract=void 0,depth,layer,layers,movement,topDistance,translate3d,_i,_len;function randRang(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min}function getRandomArbitrary(min,max){return Math.random()*(max-min)+min}function timeSince(date){var seconds=Math.floor((new Date-date)/1e3),interval=seconds/31536e3;return interval>1?Math.floor(interval)+" years":(interval=seconds/2592e3)>1?Math.floor(interval)+" months":(interval=seconds/86400)>1?Math.floor(interval)+" days":(interval=seconds/3600)>1?Math.floor(interval)+" hours":(interval=seconds/60)>1?Math.floor(interval)+" minutes":Math.floor(seconds)+" seconds"}async function startMain(){await Moralis.enableWeb3(),window.web3=new Web3(Moralis.provider);let connected=await window.web3.eth.net.isListening();if(document.getElementById("btn-log-meta").onclick=login,1==connected){web3.eth.getGasPrice().then(result=>{console.log(result),gasPriceNow=result});let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS);window.web3=await Moralis.Web3.enableWeb3();let eggOneRemain=await contract.methods.getParamsContract("eggOneRemain").call({from:ethereum.selectedAddress}),eggTwoRemain=await contract.methods.getParamsContract("eggTwoRemain").call({from:ethereum.selectedAddress}),eggThreeRemain=await contract.methods.getParamsContract("eggThreeRemain").call({from:ethereum.selectedAddress});$(".iconic-egg-remain").html("Soon ( "+eggOneRemain+" / 1000 )"),$(".rare-egg-remain").html("Soon ( "+eggTwoRemain+" / 3000 )"),$(".classic-egg-remain").html("Soon ( "+eggThreeRemain+" / 6000 )")}}function eggRenderImg(type){colorInt=randRang(0,3),0==colorInt&&(color="blue"),1==colorInt&&(color="green"),2==colorInt&&(color="purple"),3==colorInt&&(color="red"),type1=randRang(0,3)+type,type1="img/eggs/type1/"+color+"/"+(type1+1)+".webp",type2=randRang(0,3)+type,type2="img/eggs/type2/"+color+"/"+(type2+1)+".webp",type3=randRang(0,3)+type,type3="img/eggs/type3/"+color+"/"+(type3+1)+".webp",type4=randRang(0,3)+type,type4="img/eggs/type4/"+color+"/"+(type4+1)+".webp";let card=$(".card-fourth"),classType="layer-egg-classic";4==type&&(card=$(".card-third"),classType="layer-egg-rare"),8==type&&(card=$(".card-second"),classType="layer-egg-iconic"),card.prepend('<div class=\'eggLayer\'><img loading="lazy" src="img/eggs/egg_color'+(colorInt+1+(0==type||4==type?0:4))+'.webp" class="layer-egg '+classType+'" alt="mystic"><img loading="lazy" src="'+type4+'" class="layer-egg" style="opacity:0.5;" alt="mystic"><img loading="lazy" src="'+type3+'" class="layer-egg" style="opacity:0.8;" alt="mystic"><img loading="lazy" src="'+type2+'" class="layer-egg" alt="mystic"><img loading="lazy" src="'+type1+'" class="layer-egg" style="opacity:0.8;" alt="mystic"><div>');var rotated=0;setInterval(()=>{for(var slides=document.getElementsByClassName("eggLayer"),i=0;i<slides.length;i++)if(window.scrollY>600){var div=slides[i],deg=rotated?-randRang(0,6):randRang(0,6);div.style.webkitTransform="rotate("+deg+"deg)",div.style.mozTransform="rotate("+deg+"deg)",div.style.msTransform="rotate("+deg+"deg)",div.style.oTransform="rotate("+deg+"deg)",div.style.transform="rotate("+deg+"deg)",rotated=!rotated}},randRang(2e3,4900))}function idPartsToNameParts(id){return 0==id?"Common":1==id?"Uncommon":2==id?"Curiosity":3==id?"Rare":4==id?"Anomaly":5==id?"Irregularity":6==id?"Improbable":7==id?"Absurd":8==id?"Fantastic":9==id?"Exotic":10==id?"Wonder":11==id?"Incredible":"Unbelievable"}function generateMetaData(egg,id){return{name:"NYXIES #"+id,description:"Nyxies are mystical and tame creatures that can be reproduced ad infinitum",image:"https://tam.nyxiesnft.com/img/generated/"+id+".png",edition:0,seller_fee_basis_points:250,collection:{name:"NYXIES",family:"EGGS"},symbol:"NYXS",properties:{files:[{uri:"https://tam.nyxiesnft.com/img/generated/"+id+".png",type:"image/png"}],category:"image",creators:[{address:"0x0cE1A376d6CC69a6F74f27E7B1D65171fcB69C80",share:100}]},attributes:[{trait_type:"egg",value:parseInt(egg.params8[0])+(2==parseInt(egg.params256[7])||1==parseInt(egg.params256[7])?0:4)},{trait_type:"ears",value:idPartsToNameParts(egg.params8[1])},{trait_type:"horn",value:idPartsToNameParts(egg.params8[2])},{trait_type:"mouth",value:idPartsToNameParts(egg.params8[3])},{trait_type:"eyes",value:idPartsToNameParts(egg.params8[4])}]}}async function sendToServerMeta(egg,id){await saveImageEgg(egg,id);var meta=generateMetaData(egg,id),allMeta=await getMeta();allMeta.push(meta);var formData=new FormData;await setTimeout(()=>{formData.append("base64",canvas.toDataURL("image/png")),formData.append("id",id),formData.append("allMeta",JSON.stringify(allMeta)),formData.append("meta",JSON.stringify(meta)),fetch("saveFile.php",{method:"POST",body:formData})},1e3)}function saveImageEgg(egg,id){colorInt=parseInt(egg.params8[0]),0==colorInt&&(color="blue"),1==colorInt&&(color="green"),2==colorInt&&(color="purple"),3==colorInt&&(color="red"),img0=loadImage("img/ilu_bg.webp",main),img1=loadImage("img/eggs/egg_color"+(colorInt+1+(2==egg.params256[7]||1==egg.params256[7]?0:4))+".webp",main),img2=loadImage("img/eggs/type1/"+color+"/"+(parseInt(egg.params8[1])+1)+".webp",main),img3=loadImage("img/eggs/type2/"+color+"/"+(parseInt(egg.params8[2])+1)+".webp",main),img4=loadImage("img/eggs/type3/"+color+"/"+(parseInt(egg.params8[3])+1)+".webp",main),img5=loadImage("img/eggs/type4/"+color+"/"+(parseInt(egg.params8[4])+1)+".webp",main)}function main(){ctx.drawImage(img0,0,0),ctx.drawImage(img1,0,0),ctx.globalAlpha=.5,ctx.drawImage(img5,0,0),ctx.globalAlpha=.8,ctx.drawImage(img4,0,0),ctx.globalAlpha=1,ctx.drawImage(img3,0,0),ctx.globalAlpha=.8,ctx.drawImage(img2,0,0)}function loadImage(src,onload){var img=new Image;return img.onload=onload,img.src=src,img}async function login(){let connected;if(await Moralis.enableWeb3(),window.web3=new Web3(Moralis.provider),1==await window.web3.eth.net.isListening())try{renderGame()}catch(error){console.log(error)}else renderGame()}async function logOut(){await Moralis.User.logOut(),$(".unlogged-btn").fadeIn("fast"),$(".logged-btn").fadeOut("fast"),$("#contentBody").fadeOut("fast"),$("#myMystics").html("")}function navAllUnactive(){$(".nav-link").each((function(){$(this).removeClass("active")}))}async function faq(){$(".modal-title").html("FAQ"),$.get("js/min/faq.html",(function(data){$(".modal-body").html(data)}))}async function updates(){$(".modal-title").html("UPDATES"),$.get("js/min/updates.html",(function(data){$(".modal-body").html(data)}))}function getAbi(){return new Promise(res=>{$.getJSON("js/Delegate_contract.json",json=>{res(json.abi)})})}function getMeta(){return new Promise(res=>{$.getJSON("img/generated/_metadata.json",json=>{res(json)})})}async function mint(typeMint){}async function mintMeta(){let connected;if(await Moralis.enableWeb3(),window.web3=new Web3(Moralis.provider),1==await window.web3.eth.net.isListening()){let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS),mystics=await contract.methods.getAllTokensForUser(ethereum.selectedAddress).call({from:ethereum.selectedAddress}).catch(error=>{console.log(error)})}}async function modalBuy(){$(".modal-body").html("<h4 class='title-first-egg'>BUY YOUR FIRST EGG</h4><p style='margin:20'>Préparer vous à acheter votre première créature</br>Ces créatures sont des NFT, échangeable et reproductible avec d'autres utilisateurs</br>Attention ils sont à durer limité, chaque mystic possède une durée de vie, soutenez le depuis sa tendre jeunesse, jusqu'au vieil age</br></p><button class='btn btn-secondary modal-close' style='margin:10px' onClick='mint()'>BUY CLASSIC EGG (3 euros)</button><button class='btn btn-secondary modal-close' style='margin:10px' onClick='mint()'>BUY RARE EGG (30 euros)</button>")}async function renderGame(){let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS),connected;if(window.web3=await Moralis.Web3.enableWeb3(),$(".unlogged-btn").fadeOut("fast"),$("#contentBody").fadeIn("fast"),$("#myMystics").fadeOut("fast").fadeIn("fast"),$("#myEggs").fadeIn("fast"),setTimeout(()=>{let parent=$("#btn-log-meta").parent();$("#btn-log-meta").html("Your Eggs"),$('<button onclick="allEggs()" id="btn-log-meta" class="btn" data-toggle="modal" data-target="#Modal">All Eggs</button>').insertAfter("#btn-log-meta"),$("#btn-log-meta").attr("data-toggle","modal"),$("#btn-log-meta").attr("data-target","#Modal"),parent.find("h3").html("Nest"),parent.find("p").html("Explore your nest and look at your previously purchased eggs"),document.getElementById("btn-log-meta").onclick=allMyEggs},1e3),await Moralis.enableWeb3(),window.web3=new Web3(Moralis.provider),1==await window.web3.eth.net.isListening()){let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS),mystics=await contract.methods.getAllTokensForUser(ethereum.selectedAddress).call({from:ethereum.selectedAddress}).catch(error=>{console.log(error)}),eggOneRemain=await contract.methods.getParamsContract("eggOneRemain").call({from:ethereum.selectedAddress}),eggTwoRemain=await contract.methods.getParamsContract("eggTwoRemain").call({from:ethereum.selectedAddress}),eggThreeRemain=await contract.methods.getParamsContract("eggThreeRemain").call({from:ethereum.selectedAddress});$(".iconic-egg-remain").html("Soon ( "+eggOneRemain+" / 1000 )"),$(".rare-egg-remain").html("Soon ( "+eggTwoRemain+" / 3000 )"),$(".classic-egg-remain").html("Soon ( "+eggThreeRemain+" / 6000 )");var lastMystic=void 0,lastIdMystic=void 0;$("#myMystics").html("");var eggsData={},timeOut=1;await mystics.forEach(MSTC=>{contract.methods.getTokenDetails(MSTC).call({from:ethereum.selectedAddress}).catch(error=>{console.log(error)}).then(data=>{timeOut++,setTimeout(()=>{sendToServerMeta(data,MSTC)},2e3*timeOut),1==data.egg?(data=setDefaut(data),eggs[MSTC]=data,eggsData[MSTC]={addr:ethereum.selectedAddress,mystic:{params256:data.params256,params8:data.params8,egg:data.egg,inSell:data.inSell}}):(lastMystic=data,lastIdMystic=MSTC,myMysticId=MSTC,myMystic=data)})}),setTimeout(()=>{mintEggToNodeServer(eggsData),lastMystic?($(".born").remove(),$("#nest-egg").fadeIn("fast"),$("#mail-box").fadeIn("fast"),$("#title-mystic").fadeOut(),$(".img-intro").fadeOut(),$("#subtitle-mystic").fadeOut("fast"),$(".logged-btn").fadeIn("fast")):($("#btn-logout").parent().fadeIn("fast"),$("#title-mystic").fadeIn("fast",(function(){$("#subtitle-mystic").fadeIn("fast",(function(){}))})))},500)}}async function mintEggToNodeServer(eggs){let connected;1==await window.web3.eth.net.isListening()&&fetch("https://localhost:31093/mintEgg",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(eggs)}).then(res=>res.json()).then(res=>{})}function myMysticModal(){var myMisticRender=renderMysticCard(myMysticId,{mystic:myMystic},!0,ethereum.selectedAddress);$(".modal-title").html("My Mystic"),$(".modal-body").html(myMisticRender)}async function allMyEggs(){let connected;$(".modal-title").html("My Eggs"),$(".modal-body").html(""),1==await window.web3.eth.net.isListening()&&(renderEggs="",await Object.keys(eggs).forEach(egg=>{renderEggs+=renderEgg(egg,eggs[egg],!0,ethereum.selectedAddress)}),$(".modal-body").html(renderEggs))}async function allEggs(){let connected;if($(".modal-title").html("All Eggs"),$(".modal-body").html(""),1==await window.web3.eth.net.isListening()){let optionSelect='<option value="1">Common</option><option value="2">Uncommon blue</option><option value="3">Curiosity</option><option value="4">Rare</option><option value="5">Anomaly</option><option value="6">Irregularity</option><option value="7">Improbable</option><option value="8">Absurd</option><option value="9">Fantastic</option><option value="10">Exotic</option><option value="11">Wonder</option><option value="12">Incredible</option>';renderEggs='<div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><select style="margin-top:50px" id="insell" onchange="fetchAllEggsFilter()"><option selected value="1">In sell</option><option value="0">Not in sell</option></select><select style="margin-top:20px;" id="select-color" onChange="fetchAllEggsFilter()"><option selected value="0">All Color</option><option value="1">Dark blue</option><option value="2">Dark Green</option><option value="3">Dark purple</option><option value="4">Orange</option><option value="5">Blue</option><option value="6">Green</option><option value="7">Purple</option><option value="8">Red</option></select><select style="margin-top:20px;" id="select-eyes" onchange="fetchAllEggsFilter()"><option selected value="0">Eyes</option>'+optionSelect+'</select><select style="margin-top:20px;" id="select-ears" onchange="fetchAllEggsFilter()"><option selected value="0">Ears</option>'+optionSelect+'</select><select style="margin-top:20px;" id="select-horn" onchange="fetchAllEggsFilter()"><option selected value="0">Horn</option>'+optionSelect+'</select><select style="margin-top:20px;" id="select-mouth" onchange="fetchAllEggsFilter()"><option selected value="0">Mouth</option>'+optionSelect+'</select><select style="margin-top:20px;margin-bottom:20px;" id="page" onchange="fetchAllEggsFilter()"><option selected value="1">Page 1</option>'+renderPage(100)+'</select></div><div class="col-lg-9 col-md-9 col-sm-9 col-xs-9"><div class="row" id="render-eggs-all">',fetch("https://localhost:31093/filterMystics",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({egg:!0,parts:{0:"0",1:"0",2:"0",3:"0",4:"0",5:void 0,breedCountMin:0,breedCountMax:0,ageMinMonth:0,ageMaxMonth:0},page:1,insell:1})}).then(res=>res.json()).then(res=>{Object.keys(res).forEach(egg=>{renderEggs+=renderEgg(egg,res[egg],ethereum.selectedAddress==res[egg].mystic.addr,ethereum.selectedAddress)}),$(".modal-body").html(renderEggs+"</div></div>")})}}function renderPage(nbr){render="";for(let index=2;index<nbr/6+2;index++)render+='<option value="'+index+'">Page '+index+"</option>";return render}function fetchAllEggsFilter(){fetch("https://localhost:31093/filterMystics",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({egg:!0,parts:{0:$("#select-color").val(),1:$("#select-eyes").val(),2:$("#select-ears").val(),3:$("#select-horn").val(),4:$("#select-mouth").val(),5:void 0,breedCountMin:0,breedCountMax:0,ageMinMonth:0,ageMaxMonth:0},page:$("#page").val(),insell:$("#insell").val()})}).then(res=>res.json()).then(res=>{renderEggs="",Object.keys(res).forEach(egg=>{console.log(res[egg]),renderEggs+=renderEgg(egg,res[egg],ethereum.selectedAddress==res[egg].mystic.addr,ethereum.selectedAddress)}),$("#render-eggs-all").html(renderEggs)})}async function allItems(){let connected;1==await window.web3.eth.net.isListening()&&(renderItemsHtml="",await Object.keys(items).forEach(item=>{renderItemsHtml+=renderItems(item,items[item],!0,ethereum.selectedAddress)}),$(".modal-title").html("My Items"),$(".modal-body").html(renderItemsHtml))}function allMystics(){$("#myMystics").fadeOut("slow").fadeIn("fast"),$("#myEggs").fadeOut("fast"),fetch("https://localhost:31093/getAllMystics",{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(res=>res.json()).then(res=>{var allMysticsRender="";Object.keys(res).forEach(MSTC=>{allMysticsRender+=renderMysticCard(res[MSTC].mystic.id,res[MSTC],parseInt(MSTC)==parseInt(ethereum.selectedAddress),MSTC)}),$(".modal-title").html("All Mystics"),$(".modal-body").html(allMysticsRender)})}async function getAllTokensForUser(){let connected;if(1==await window.web3.eth.net.isListening()){let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS),mystics=await contract.methods.getAllTokensForUser(ethereum.selectedAddress).call({from:ethereum.selectedAddress}).catch(error=>{console.log(error)})}}function setDefaut(egg){let eggTreated=Object.assign({},egg);return eggTreated.Disobedient=8*(12-egg.params8[1]),eggTreated.Aggressive=8*(12-egg.params8[2]),eggTreated.Gluttony=8*(12-egg.params8[3]),eggTreated.Lazy=8*(12-egg.params8[4]),eggTreated}function renderDefaut(egg){return"<span class='span-defaut'>Disobedient : "+8*(12-egg.params8[1])+" %</span><span class='span-defaut'>Aggressive : "+8*(12-egg.params8[2])+" %</span><span class='span-defaut'>Gluttony : "+8*(12-egg.params8[3])+" %</span><span class='span-defaut'>Lazy : "+8*(12-egg.params8[4])+" %</span>"}function renderEgg(id,data,owned,addr){console.log(data),data.mystic&&(data=data.mystic.mystic),colorInt=parseInt(data.params8[0]),0==colorInt&&(color="blue"),1==colorInt&&(color="green"),2==colorInt&&(color="purple"),3==colorInt&&(color="red"),type1=parseInt(data.params8[1]),type1="img/eggs/type1/"+color+"/"+(type1+1)+".webp",type2=parseInt(data.params8[2]),type2="img/eggs/type2/"+color+"/"+(type2+1)+".webp",type3=parseInt(data.params8[3]),type3="img/eggs/type3/"+color+"/"+(type3+1)+".webp",type4=parseInt(data.params8[4]),type4="img/eggs/type4/"+color+"/"+(type4+1)+".webp";let classType="layer-egg-classic";return 1==data.params256[7]&&(card=$(".card-third"),classType="layer-egg-rare"),0==data.params256[7]&&(card=$(".card-second"),classType="layer-egg-iconic"),dataStringified=JSON.stringify(data).replaceAll('"',"%84"),date=new Date(1e3*data.createdAt),'<div class="col-lg-4 col-md-12 col-sm-12 col-xs-12"><div class="card '+(0==data.params256[7]?"card-second":1==data.params256[7]?"card-third":"card-fourth")+'"><div class=\'eggLayer\'><img loading="lazy" src="img/eggs/egg_color'+(colorInt+1+(2==data.params256[7]||1==data.params256[7]?0:4))+'.webp" class="layer-egg '+classType+'" alt="mystic"><img loading="lazy" src="'+type4+'" class="layer-egg" style="opacity:0.5;" alt="mystic"><img loading="lazy" src="'+type3+'" class="layer-egg" style="opacity:0.8;" alt="mystic"><img loading="lazy" src="'+type2+'" class="layer-egg" alt="mystic"><img loading="lazy" src="'+type1+'" class="layer-egg" style="opacity:0.8;" alt="mystic"></div><div style=\'width:100%;\'><div class="content"><h3 class="title">'+(0==data.params256[7]?"Iconic Egg #"+id:1==data.params256[7]?"Rare Egg #"+id:"Classic Egg #"+id)+"</h3>"+renderDefaut(data)+"<div>"+(owned?data.inSell?'<button class="btn" style="margin-top:0px;" onclick="paramsNyxies('+id+","+!1+","+data.egg+","+data.params256[2]+')">Stop sell</button>':'<button class="btn"  style="margin-top:0px;" onclick="paramsNyxies('+id+","+!0+","+data.egg+","+data.params256[2]+')">Sell</button>':"")+(!owned&&data.inSell?'<button class="btn" style="margin-top:0px;" onclick="buy(`'+addr+"`,`"+dataStringified+"`,"+id+')">Buy</button>':"")+"</div></div></div></div></div>"}async function paramsNyxies(id,sell,egg,invitationToReproduce){let connected;if(1==await window.web3.eth.net.isListening()){let abi=await getAbi(),contract=new web3.eth.Contract(abi,CONTRACT_ADDRESS);console.log(id,sell,egg,invitationToReproduce),await contract.methods.paramsNyxies(id,sell,egg,invitationToReproduce).send({from:ethereum.selectedAddress}).catch(error=>{console.log("error transfer",error)}).then(()=>{})}}async function buy(addrSeller,mystic,id){}eggRenderImg(0),eggRenderImg(4),eggRenderImg(8),$(".convert-eth").each((function(){$(this).html($(this).data("price")+" MATIC")})),$("#title-mystic").fadeIn("fast",(function(){$("#subtitle-mystic").fadeIn("fast",(function(){}))})),function(){window.addEventListener("scroll",(function(event){topDistance=this.pageYOffset,document.body.classList[window.scrollY>600?"add":"remove"]("scrolled")}),{capture:!0,passive:!0})}.call(this),$("#burger, nav ul li").on("click",(function(){$("#header-wrapper").toggleClass("open"),$("nav ul").toggleClass("open")})),window.addEventListener("load",(function(){document.body.classList[window.scrollY>600?"add":"remove"]("scrolled")}));var rotated=0;setInterval(()=>{for(var slides=document.getElementsByClassName("balance-anim"),i=0;i<slides.length;i++)if(randRang(1,10)<2&&("true"==slides[i].dataset.mobile||window.screen.width>=1200)&&window.scrollY<600){var div=slides[i],deg=rotated?-randRang(0,4):randRang(0,4),dataDeg=parseInt(slides[i].dataset.deg);div.style.webkitTransform="rotate("+deg*dataDeg+"deg)",div.style.mozTransform="rotate("+deg*dataDeg+"deg)",div.style.msTransform="rotate("+deg*dataDeg+"deg)",div.style.oTransform="rotate("+deg*dataDeg+"deg)",div.style.transform="rotate("+deg*dataDeg+"deg)",rotated=!rotated}},window.screen.width>=1200?100:500),function($){$((function(){var e=document.getElementById("js-ag-leaf_box"),t=window.innerWidth,a=2*window.innerHeight;if(!$("#Modal").hasClass("show"))for(i=0;i<20;i++){var n=document.createElement("span");n.classList.add("js-ag-leaf"),TweenLite.set(n,{x:fnRandom(0,2),y:fnRandom(8,a),z:fnRandom(-200,200)}),e.appendChild(n),r(n)}function r(e){TweenMax.to(e,fnRandom(8,15),{x:t+100,ease:Linear.easeNone,repeat:-1,delay:-15}),TweenMax.to(e,fnRandom(4,2),{y:"+=100",rotationZ:fnRandom(0,180),repeat:-1,yoyo:!0,ease:Sine.easeInOut}),TweenMax.to(e,fnRandom(2,2),{rotationX:fnRandom(0,360),rotationY:fnRandom(0,360),repeat:-1,yoyo:!0,ease:Sine.easeInOut,delay:-5})}function fnRandom(e,t){return e+Math.random()*(t-e)}}))}(jQuery);